<!DOCTYPE html>
<html lang="en">
<head>
   <script src="../webdev_header.js"></script>

</head>
<body>
    <h1>Creating Layers in JavaScript</h1>
    <p>Layers are an essential part of any photo-editing application. In this tutorial, 
        we'll learn how to create and manage layers in a JavaScript-based photo editor.</p>
    <h2>Step 1: Creating a Layer Class</h2>
    <p>We'll start by creating a <code>Layer</code> class to represent each layer in our photo editor. 
        Here's an example implementation:</p>
    <pre><code class="language-javascript">class Layer {
    constructor(name, width, height) {
      this.name = name;
      this.width = width;
      this.height = height;
      this.canvas = document.createElement('canvas');
      this.canvas.width = width;
      this.canvas.height = height;
      this.ctx = this.canvas.getContext('2d');
    }
    }</code></pre>
    <p>In this implementation, we create a <code>Layer</code> class with a constructor that takes a 
        <code>name</code>, <code>width</code>, and <code>height</code> as arguments. 
        We then create a <code>canvas</code> element and set its width and height to match the layer dimensions. 
        Finally, we get the 2D context of the canvas and store it in <code>ctx</code>.</p>

    <h2>Step 2: Adding Layers to the Editor</h2>
    <p>Next, we'll add functionality to our photo editor to create and manage layers. We'll start by adding a <code>layers</code> array to store all the layers in the editor:</p>
    <pre><code class="language-javascript">const layers = [];</code></pre>
    <p>We'll also create a function to add a new layer to the editor:</p>

    <pre><code class="language-javascript">function addLayer(name, width, height) {
    const layer = new Layer(name, width, height);
    layers.push(layer);
    // Add the layer to the UI
    // ...
    }</code></pre>

    <p>In this implementation, we create a new <code>Layer</code> object with the given <code>name</code>, 
        <code>width</code>, and <code>height</code>. We then add the layer to the 
        <code>layers</code> array and update the UI to show the new layer.</p>
    <h2>Step 3: Drawing Layers on the Canvas</h2>

    <p>Now that we have our layers, we need to be able to draw them on the canvas. 
        We'll create a function to draw all the layers in the <code>layers</code> array:</p>
    <pre><code class="language-javascript">function drawLayers() {
    for (const layer of layers) {
      ctx.drawImage(layer.canvas, 0, 0);
    }
    }</code></pre>
    <p>In this implementation, we iterate over all the layers in the <code>layers</code> 
        array and draw each layer's canvas onto the main canvas.</p>
    <h2>Step 4: Managing Layer Visibility and Order</h2>
    <p>Finally, we'll add functionality to toggle the visibility of each layer and manage 
        the layer order. We'll create a <code>visible</code> property on each <code>Layer</code> 
        object to represent its visibility:</p>
    <pre><code class="language-javascript">class Layer {
    constructor(name, width, height) {
      this.name = name;
      this.width = width;
      this.height = height;
      this.canvas = document.createElement('canvas');
      this.canvas.width = width;
      this.canvas.height = height;
      this.ctx = this.canvas.getContext('2d');
      this.visible = true;
    }
  }</code></pre>
    <p>In this implementation, we add a <code>visible</code> property to each <code>Layer</code> 
        object, initialized to <code>true</code>.</p>
    <p>We'll then create a function to toggle the visibility of a layer:</p>
    <pre><code class="language-javascript">function toggleLayerVisibility(layerIndex) {
    const layer = layers[layerIndex];
    layer.visible = !layer.visible;
    // Redraw the layers
    drawLayers();
  }</code></pre>
    <p>This function takes a layer index as an argument and toggles the <code>visible</code> 
        property of the corresponding <code>Layer</code> object. We then call the <code>drawLayers</code> 
        function to redraw all the layers on the canvas.</p>
    <p>Finally, we'll create functions to move a layer up or down in the layer order:</p>
    <pre><code class="language-javascript">// Move a layer up in the layer order
  function moveLayerUp(layerIndex) {
    if (layerIndex > 0) {
      const layer = layers[layerIndex];
      layers.splice(layerIndex, 1);
      layers.splice(layerIndex - 1, 0, layer);
      // Redraw the layers
      drawLayers();
    }
  }
  
  // Move a layer down in the layer order
  function moveLayerDown(layerIndex) {
    if (layerIndex < layers.length - 1) {
      const layer = layers[layerIndex];
      layers.splice(layerIndex, 1);
      layers.splice(layerIndex + 1, 0, layer);
      // Redraw the layers
      drawLayers();
    }
  }</code></pre>
    <p>These functions take a layer index as an argument and move the corresponding <code>Layer</code> 
        object up or down in the <code>layers</code> array. We then call the <code>drawLayers</code> 
        function to redraw all the layers on the canvas.</p>
    <h2>Conclusion</h2>
    <p>In this tutorial, we've learned how to create and manage layers in a JavaScript-based photo editor. 
        We started by creating a <code>Layer</code> class to represent each layer, then added functionality 
        to create, draw, and manage the layers in the editor. With this knowledge, you can now start building 
        your own photo-editing application with JavaScript!</p>
    <script src="createLayers.js"></script>
</body>


</html>